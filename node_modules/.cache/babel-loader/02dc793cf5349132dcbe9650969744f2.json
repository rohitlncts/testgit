{"ast":null,"code":"import _classCallCheck from \"D:\\\\myProject\\\\githubreport\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\myProject\\\\githubreport\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\myProject\\\\githubreport\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\myProject\\\\githubreport\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\myProject\\\\githubreport\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\myProject\\\\githubreport\\\\src\\\\MainPage.jsx\";\nimport React, { Component } from \"react\";\nimport { Grid, Segment, Label, Button, Input, Container, Header, Form } from \"semantic-ui-react\";\nimport MyTable from \"./MyTable\";\n\nvar MainPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainPage, _Component);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n    _this.state = {\n      response: [],\n      data24hrs: [],\n      data7days: [],\n      databeyond7days: [],\n      errorMessage: \"\",\n      isDataFound: false,\n      tableData: [],\n      selectedLabel: \"\"\n    };\n    /**\r\n     * Method to fetch json data from gethub repository\r\n     */\n\n    _this.applysearch = function () {\n      _this.setState({\n        isDataFound: false\n      });\n\n      var URL = document.getElementById(\"repo-url\").value;\n      var message = \"\";\n\n      if (URL) {\n        if (URL.indexOf(\"https://github.com/\") === 0) {\n          URL = URL.replace(\"https://github.com/\", \"https://api.github.com/repos/\");\n\n          if (URL.charAt(URL.length - 1) === \"/\") {\n            URL = URL.substring(0, URL.length - 1);\n            document.getElementById(\"repo-url\").value = URL;\n          }\n\n          URL = URL + \"/issues\";\n        } else {\n          _this.setState({\n            errorMessage: \"Incorrect URL \"\n          });\n\n          return;\n        }\n\n        fetch(URL, {\n          Method: \"GET\"\n        }).then(function (data) {\n          return data.json();\n        }).catch(function () {\n          message = \"Incorrect URL or response XML\";\n        }).then(function (response) {\n          var now = new Date().getTime();\n          var oneDay = 1000 * 60 * 60 * 24;\n          var sevenDay = 1000 * 60 * 60 * 24 * 7;\n          var db7 = [];\n          var d7 = [];\n          var d24 = [];\n\n          for (var key in response) {\n            if (response.hasOwnProperty(key)) {\n              var val = response[key];\n              var d = new Date(val.created_at);\n\n              if (val.state === \"open\") {\n                if (now - d.getTime() > sevenDay) {\n                  db7.push(val);\n                } else if (now - d.getTime() > oneDay) {\n                  d7.push(val);\n                } else {\n                  d24.push(val);\n                }\n              }\n            }\n          }\n\n          _this.setState({\n            isDataFound: true,\n            response: response,\n            databeyond7days: db7,\n            data7days: d7,\n            data24hrs: d24,\n            errorMessage: message,\n            tableData: []\n          });\n        });\n      }\n    };\n    /**\r\n     * JS Method for label click action, will populate table data\r\n     */\n\n\n    _this.onClickLabel = function (e, data) {\n      var tableData = [];\n      var selectedLabel = \"\";\n\n      switch (data.id) {\n        case \"total\":\n          tableData = _this.state.response;\n          selectedLabel = \"Total Open Issues\";\n          break;\n\n        case \"b7d\":\n          tableData = _this.state.databeyond7days;\n          selectedLabel = \"Open Issues Beyond 7 Days\";\n          break;\n\n        case \"d7\":\n          tableData = _this.state.data7days;\n          selectedLabel = \"Open Issues In Last 7 Days\";\n          break;\n\n        case \"d24\":\n          tableData = _this.state.data24hrs;\n          selectedLabel = \"Open Issues In Last 24 Hrs\";\n          break;\n\n        default:\n          tableData = [];\n          selectedLabel = \"\";\n      }\n\n      _this.setState({\n        tableData: tableData,\n        selectedLabel: selectedLabel\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h1\",\n        textAlign: \"center\",\n        style: {\n          paddingTop: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Github Open Issue Dashboard\"), React.createElement(Header, {\n        as: \"h5\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Please enter your github repository URL and click on submit button\"), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Form, {\n        size: \"tiny\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Input, {\n        fluid: true,\n        id: \"repo-url\",\n        placeholder: \"Repository URL\",\n        label: React.createElement(Button, {\n          type: \"submit\",\n          onClick: this.applysearch,\n          primary: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Submit\"),\n        labelPosition: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), this.state.errorMessage && React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.state.errorMessage))), this.state.isDataFound && React.createElement(Container, {\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        fluid: true,\n        columns: 4,\n        centered: true,\n        textAlign: \"center\",\n        style: {\n          paddingTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        container: true,\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Total Issues\"), React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Beyond Last 7 Days\"), React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"In Last 7 Days\"), React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"In Last 24 hrs\")), React.createElement(Grid.Row, {\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        centered: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Label, {\n        id: \"total\",\n        circular: true,\n        size: \"massive\",\n        color: \"blue\",\n        as: \"a\",\n        onClick: this.onClickLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.state.response.length)), React.createElement(Grid.Column, {\n        centered: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Label, {\n        id: \"b7d\",\n        circular: true,\n        size: \"massive\",\n        color: \"red\",\n        as: \"a\",\n        onClick: this.onClickLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, this.state.databeyond7days.length)), React.createElement(Grid.Column, {\n        centered: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Label, {\n        id: \"d7\",\n        circular: true,\n        size: \"massive\",\n        color: \"orange\",\n        as: \"a\",\n        onClick: this.onClickLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.state.data7days.length)), React.createElement(Grid.Column, {\n        centered: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Label, {\n        id: \"d24\",\n        circular: true,\n        size: \"massive\",\n        color: \"yellow\",\n        as: \"a\",\n        onClick: this.onClickLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, this.state.data24hrs.length)))), React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Header, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, this.state.selectedLabel), React.createElement(MyTable, {\n        tableData: this.state.tableData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return MainPage;\n}(Component);\n\nexport default MainPage;","map":{"version":3,"sources":["D:\\myProject\\githubreport\\src\\MainPage.jsx"],"names":["React","Component","Grid","Segment","Label","Button","Input","Container","Header","Form","MyTable","MainPage","props","state","response","data24hrs","data7days","databeyond7days","errorMessage","isDataFound","tableData","selectedLabel","applysearch","setState","URL","document","getElementById","value","message","indexOf","replace","charAt","length","substring","fetch","Method","then","data","json","catch","now","Date","getTime","oneDay","sevenDay","db7","d7","d24","key","hasOwnProperty","val","d","created_at","push","onClickLabel","e","id","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Grid,\r\n  Segment,\r\n  Label,\r\n  Button,\r\n  Input,\r\n  Container,\r\n  Header,\r\n  Form\r\n} from \"semantic-ui-react\";\r\nimport MyTable from \"./MyTable\";\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      response: [],\r\n      data24hrs: [],\r\n      data7days: [],\r\n      databeyond7days: [],\r\n      errorMessage: \"\",\r\n      isDataFound: false,\r\n      tableData: [],\r\n      selectedLabel: \"\"\r\n    };\r\n    /**\r\n     * Method to fetch json data from gethub repository\r\n     */\r\n    this.applysearch = () => {\r\n      this.setState({\r\n        isDataFound: false\r\n      });\r\n      let URL = document.getElementById(\"repo-url\").value;\r\n      let message = \"\";\r\n      if (URL) {\r\n        if (URL.indexOf(\"https://github.com/\") === 0) {\r\n          URL = URL.replace(\r\n            \"https://github.com/\",\r\n            \"https://api.github.com/repos/\"\r\n          );\r\n          if (URL.charAt(URL.length - 1) === \"/\") {\r\n            URL = URL.substring(0, URL.length - 1);\r\n            document.getElementById(\"repo-url\").value = URL;\r\n          }\r\n          URL = URL + \"/issues\";\r\n        } else {\r\n          this.setState({\r\n            errorMessage: \"Incorrect URL \"\r\n          });\r\n          return;\r\n        }\r\n\r\n        fetch(URL, {\r\n          Method: \"GET\"\r\n        })\r\n          .then(data => {\r\n            return data.json();\r\n          })\r\n          .catch(function() {\r\n            message = \"Incorrect URL or response XML\";\r\n          })\r\n          .then(response => {\r\n            let now = new Date().getTime();\r\n            const oneDay = 1000 * 60 * 60 * 24;\r\n            const sevenDay = 1000 * 60 * 60 * 24 * 7;\r\n            let db7 = [];\r\n            let d7 = [];\r\n            let d24 = [];\r\n            for (var key in response) {\r\n              if (response.hasOwnProperty(key)) {\r\n                var val = response[key];\r\n                let d = new Date(val.created_at);\r\n                if (val.state === \"open\") {\r\n                  if (now - d.getTime() > sevenDay) {\r\n                    db7.push(val);\r\n                  } else if (now - d.getTime() > oneDay) {\r\n                    d7.push(val);\r\n                  } else {\r\n                    d24.push(val);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            this.setState({\r\n              isDataFound: true,\r\n              response,\r\n              databeyond7days: db7,\r\n              data7days: d7,\r\n              data24hrs: d24,\r\n              errorMessage: message,\r\n              tableData: []\r\n            });\r\n          });\r\n      }\r\n    };\r\n\r\n    /**\r\n     * JS Method for label click action, will populate table data\r\n     */\r\n    this.onClickLabel = (e, data) => {\r\n      let tableData = [];\r\n      let selectedLabel = \"\";\r\n      switch (data.id) {\r\n        case \"total\":\r\n          tableData = this.state.response;\r\n          selectedLabel = \"Total Open Issues\";\r\n          break;\r\n        case \"b7d\":\r\n          tableData = this.state.databeyond7days;\r\n          selectedLabel = \"Open Issues Beyond 7 Days\";\r\n          break;\r\n        case \"d7\":\r\n          tableData = this.state.data7days;\r\n          selectedLabel = \"Open Issues In Last 7 Days\";\r\n          break;\r\n        case \"d24\":\r\n          tableData = this.state.data24hrs;\r\n          selectedLabel = \"Open Issues In Last 24 Hrs\";\r\n          break;\r\n        default:\r\n          tableData = [];\r\n          selectedLabel = \"\";\r\n      }\r\n      this.setState({\r\n        tableData,\r\n        selectedLabel\r\n      });\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header as=\"h1\" textAlign=\"center\" style={{ paddingTop: \"10px\" }}>\r\n          Github Open Issue Dashboard\r\n        </Header>\r\n        <Header as=\"h5\" textAlign=\"center\">\r\n          Please enter your github repository URL and click on submit button\r\n        </Header>\r\n        <Container>\r\n          <Form size=\"tiny\">\r\n            <Input\r\n              fluid\r\n              id=\"repo-url\"\r\n              placeholder=\"Repository URL\"\r\n              label={\r\n                <Button type=\"submit\" onClick={this.applysearch} primary>\r\n                  Submit\r\n                </Button>\r\n              }\r\n              labelPosition=\"right\"\r\n            />\r\n            {this.state.errorMessage && (\r\n              <Label>{this.state.errorMessage}</Label>\r\n            )}\r\n          </Form>\r\n        </Container>\r\n        {this.state.isDataFound && (\r\n          <Container centered>\r\n            <Grid\r\n              fluid\r\n              columns={4}\r\n              centered\r\n              textAlign=\"center\"\r\n              style={{ paddingTop: \"20px\" }}\r\n            >\r\n              <Grid.Row container centered>\r\n                <Grid.Column textAlign=\"center\">Total Issues</Grid.Column>\r\n                <Grid.Column textAlign=\"center\">Beyond Last 7 Days</Grid.Column>\r\n                <Grid.Column textAlign=\"center\">In Last 7 Days</Grid.Column>\r\n                <Grid.Column textAlign=\"center\">In Last 24 hrs</Grid.Column>\r\n              </Grid.Row>\r\n              <Grid.Row centered>\r\n                <Grid.Column centered textAlign=\"center\">\r\n                  <Label\r\n                    id=\"total\"\r\n                    circular\r\n                    size=\"massive\"\r\n                    color=\"blue\"\r\n                    as=\"a\"\r\n                    onClick={this.onClickLabel}\r\n                  >\r\n                    {this.state.response.length}\r\n                  </Label>\r\n                </Grid.Column>\r\n                <Grid.Column centered textAlign=\"center\">\r\n                  <Label\r\n                    id=\"b7d\"\r\n                    circular\r\n                    size=\"massive\"\r\n                    color=\"red\"\r\n                    as=\"a\"\r\n                    onClick={this.onClickLabel}\r\n                  >\r\n                    {this.state.databeyond7days.length}\r\n                  </Label>\r\n                </Grid.Column>\r\n                <Grid.Column centered textAlign=\"center\">\r\n                  <Label\r\n                    id=\"d7\"\r\n                    circular\r\n                    size=\"massive\"\r\n                    color=\"orange\"\r\n                    as=\"a\"\r\n                    onClick={this.onClickLabel}\r\n                  >\r\n                    {this.state.data7days.length}\r\n                  </Label>\r\n                </Grid.Column>\r\n                <Grid.Column centered textAlign=\"center\">\r\n                  <Label\r\n                    id=\"d24\"\r\n                    circular\r\n                    size=\"massive\"\r\n                    color=\"yellow\"\r\n                    as=\"a\"\r\n                    onClick={this.onClickLabel}\r\n                  >\r\n                    {this.state.data24hrs.length}\r\n                  </Label>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n            <Segment>\r\n              <Header textAlign=\"center\">{this.state.selectedLabel}</Header>\r\n              <MyTable tableData={this.state.tableData} />\r\n            </Segment>\r\n          </Container>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;\r\n"]},"metadata":{},"sourceType":"module"}